<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>task15</title>
</head>
<body>
	<ul id="source">
		<li>北京空气质量：<b>90</b></li>
	    <li>上海空气质量：<b>70</b></li>
	    <li>天津空气质量：<b>80</b></li>
	    <li>广州空气质量：<b>50</b></li>
	    <li>深圳空气质量：<b>40</b></li>
	    <li>福州空气质量：<b>32</b></li>
	    <li>成都空气质量：<b>90</b></li>
	</ul>
	<ul id="resort">
		
	</ul>
	<button id="sort-btn">排序</button>	
<script>

	// 获取#source里的aqi值保存在数组Data中
	function getData () {
		// 创建二维数组
		var data = new Array();
			for (var j = 0;j < 7; j++) {
				data[j]=new Array();
			}
		
		// 获取城市和aqi值
		var source = document.getElementById('source');
		lis = source.getElementsByTagName('li');
		bs = source.getElementsByTagName('b');
		for (var i = 0;i<lis.length; i++) {
			data[i][0] = lis[i].innerHTML.substr(0,2);
			data[i][1] = bs[i].innerHTML.substr(0,2);
		}

		// 对aqi值进行排序
		data.sort (function (a,b) {
				return a[1] - b[1]
			})
		return data;
	}

	// 输出排序后的列表
	function render (data) {
		var resort = document.getElementById('resort');
		var rank = ['一', '二', '三', '四', '五', '六', '七'];
		for (var i =0; i<data.length; i++) {
			var li = document.createElement('li');
			var b = document.createElement('b');
			li.innerHTML = '第' + rank[i] + '名：' + data[i][0] + '空气质量：';
			b.innerHTML = data[i][1];
			resort.appendChild(li);
			li.appendChild(b);
			console.log(li.innerHTML)
		}
	}
	
	// 点击按钮排序
	(function () {
		var sortBtn = document.getElementById('sort-btn');
		sortBtn.onclick = function () {
			var aqiData = getData();
			render(aqiData);
			sortBtn.disabled = true;
		}
	})();
</script>
</body>
</html>